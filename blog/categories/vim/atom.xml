<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Vim | My Octopress Blog]]></title>
  <link href="http://martinbj2008.github.io/blog/categories/vim/atom.xml" rel="self"/>
  <link href="http://martinbj2008.github.io/"/>
  <updated>2015-05-21T16:26:25+08:00</updated>
  <id>http://martinbj2008.github.io/</id>
  <author>
    <name><![CDATA[Your Name]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Vim 特定字符后中插入回车换行]]></title>
    <link href="http://martinbj2008.github.io/blog/2007/09/14/vim-replace/"/>
    <updated>2007-09-14T00:00:00+08:00</updated>
    <id>http://martinbj2008.github.io/blog/2007/09/14/vim-replace</id>
    <content type="html"><![CDATA[<!-- more -->


<p>原文件<br/>
<code>&lt;port_countxsi:type=\"xsd:int\"&gt;16&lt;/port_count&gt;&lt;switch_port_idxsi:nil=\"true\"/&gt;&lt;attenuatorxsi:type=\"xsd:double\"&gt;+10&lt;/attenuator&gt;&lt;ref_offsetxsi:type=\"xsd:int\"&gt;1&lt;/ref_offset&gt;&lt;resol_bwdxsi:type=\"xsd:int\"&gt;300000&lt;/resol_bwd&gt;&lt;video_bwdxsi:type=\"xsd:double\"&gt;+100000&lt;/video_bwd&gt;&lt;cmd_port xsi:nil=\"true\"/&gt;&lt;statusxsi:type=\"xsd:int\"&gt;13&lt;/status&gt;&lt;pidxsi:nil=\"true\"/&gt;&lt;firmware_refxsi:type=\"xsd:string\"/&gt; &lt;progress xsi:type=\"xsd:string\"/&gt;</code>
这是一个xml文件的一部分，需要在“>&lt;”的中间插入回车换行，以方便浏览。</p>

<h4>命令</h4>

<p><code>%s/&gt;&lt;/&gt;^M&lt;/g</code>
其中<sup>M</sup>是ctrl+v加上ctrl+M的表示。
即按下ctrl 再按下v再按下m</p>

<h4>或者</h4>

<p><code>%s/&gt;&lt;/&gt;\r&lt;/g</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vimdiff 用法]]></title>
    <link href="http://martinbj2008.github.io/blog/2007/07/30/vimdiff/"/>
    <updated>2007-07-30T00:00:00+08:00</updated>
    <id>http://martinbj2008.github.io/blog/2007/07/30/vimdiff</id>
    <content type="html"><![CDATA[<h4>启动</h4>

<ol>
<li><code>vimdiff    FILE_LEFT    FILE_RIGHT</code></li>
<li><code>vim -d    FILE_LEFT    FILE_RIGHT</code></li>
<li>分割窗口命令来启动diff模式：
<code>vim FILE_LEFT</code>
然后在vim的ex模式（也就是"冒号"模式）下输入：
<code>:vertical diffsplit FILE_RIGHT</code></li>
</ol>


<!-- more -->


<h4>交换窗口位置</h4>

<ol>
<li>Ctrl-w K（把当前窗口移到最上边）</li>
<li>Ctrl-w H（把当前窗口移到最左边）</li>
<li>Ctrl-w J（把当前窗口移到最下边）</li>
<li>Ctrl-w L（把当前窗口移到最右边）
其中1和3两个操作会把窗口改成水平分割方式。</li>
</ol>


<h4>光标移动</h4>

<ol>
<li>vim会尽力保证两侧文件的对齐。在行间移动光标，可以看到左右两侧的屏幕滚动是同步的。
如果不想要这个特性，可以设置：
<code>:set noscrollbind</code></li>
<li>跳转到下一个差异点<code>]c</code></li>
<li>反向跳转是<code>[c</code></li>
<li>命令前加上数字的话，可以跳过一个或数个差异点，从而实现跳的更远。
比如如果在位于第一个差异点的行输入<code>2]c</code>，将越过下一个差异点，跳转到第三个差异点。</li>
</ol>


<h5>文件合并</h5>

<p>如果希望把一个差异点中当前文件的内容复制到另一个文件里，可以使用命令
<code>dp</code> (diff &ldquo;put&rdquo;)</p>

<p>如果希望把另一个文件的内容复制到当前行中，可以使用命令
<code>do</code> (diff &ldquo;get"，之所以不用dg，是因为dg已经被另一个命令占用了)</p>

<h4>刷新比较结果</h4>

<p>在修改一个或两个文件之后，vimdiff会试图自动来重新比较文件，来实时反映比较结果。
但是也会有处理失败的情况，这个时候需要手工来刷新比较结果：
<code>:diffupdate</code></p>

<h4>撤销修改</h4>

<p>和平常用vim编辑一样，直接
<code>&lt;ESC&gt;, u</code></p>

<h4>文件保存：</h4>

<p>在比较和合并告一段落之后，可以用下列命令对两个文件同时进行操作。
同时退出：
<code>:qa （quit all）</code></p>

<h4>保存全部文件：</h4>

<p><code>:wa （write all）</code></p>

<h4>保存全部文件，然后退出：</h4>

<p><code>:wqa （write, then quit all）</code></p>

<h4>如果在退出的时候不希望保存任何操作的结果：</h4>

<p><code>:qa! （force to quit all）</code></p>

<h4>上下文的展开和查看</h4>

<p>比较和合并文件的时候经常需要结合上下文来确定最终要采取的操作。
Vimdiff 缺省是会把不同之处上下各 6 行的文本都显示出来以供参考。
其他的相同的文本行被自动折叠。
如果希望修改缺省的上下文行数，可以这样设置：
<code>set diffopt=context:3</code></p>

<h4>临时展开被折叠的相同的文本行：</h4>

<p><code>zo</code> （folding open，之所以用z这个字母，是因为它看上去比较像折叠着的纸）</p>

<h4>重新折叠：</h4>

<p><code>zc</code> （folding close）</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Windows in Vim]]></title>
    <link href="http://martinbj2008.github.io/blog/2007/06/26/split-windowns-in-vim/"/>
    <updated>2007-06-26T00:00:00+08:00</updated>
    <id>http://martinbj2008.github.io/blog/2007/06/26/split-windowns-in-vim</id>
    <content type="html"><![CDATA[<p>vim中的窗口分割
在察看程序时，常常需要用到同时察看两个文件的功能。
同样在vim也提供了支持.
一下是vim关于窗口分割的命令：（以下命令在最后一行模式下）</p>

<h4>水平窗口分割</h4>

<ol>
<li>split（开启另一个窗口察看同一文件）</li>
<li>split 文件名（开启另一个窗口察看指定文件）</li>
</ol>


<h4>垂直窗口分割</h4>

<ol>
<li>vsplit（开启另一个窗口察看同一文件</li>
<li>vsplit 文件名（开启另一个窗口察看指定文件）</li>
</ol>


<h4>在窗口之间进行切换：</h4>

<p>ctrl+w+w：按住ctrl键，同时按下两次w键。
   从一个窗口切换到另一个窗口（一般就会开两个窗口，多了会显得乱，所以记住这一个切换命令觉得就够了？）</p>

<h4>增大或减少窗口大小</h4>

<p>ctrl+w,+/-:按住ctrl键，同时按下w键（这种组合应该是命令的开始标志），
然后再按下+（增大窗口）或者-（减少窗口）（这时不按下ctrl键）。</p>

<h4>关闭当前文件</h4>

<ol>
<li>将光标切换到当前窗口下，然后按照关闭单个窗口的方法关闭窗口。例如：q命令。</li>
<li>关闭所有窗口文件：在所有关闭单个窗口的命令中加上all，例如：qall命令。</li>
<li>关闭除当前窗口之外的文件。：only。</li>
</ol>

]]></content>
  </entry>
  
</feed>
